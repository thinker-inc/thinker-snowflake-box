# アクセスロールリスト
access_roles:
  # ### ***********書式**********
  #   - name: AROLE_NAME # 一意な名前
  #     # optional
  #     comment: hoge # string
  # ### ************************

  # ====================================
  # DEV CRF
  # ====================================
  # Read and Write Role
  - name: data_engineer_rw
    comment: create data_engineer and etl service is read and write role by terraform
    functional_roles:
      - USER_DATA_ENGINEER
      - USER_ETL_SERVICE
    grant_account_roles:
      - database: sample
        schemas:
          - name: workspace
            privileges:
              - USAGE
              - CREATE TABLE
              - CREATE VIEW
              - CREATE STAGE
            table_privileges:
              - SELECT
              - INSERT
              - UPDATE
              - DELETE
              - TRUNCATE
            view_privileges:
              - SELECT

          - name: dl_scm
            privileges:
              - USAGE
              - CREATE TABLE
              - CREATE VIEW
              - CREATE STAGE
            table_privileges:
              - SELECT
              - INSERT
              - UPDATE
              - DELETE
              - TRUNCATE
            view_privileges:
              - SELECT

          - name: dwh_scm
            privileges:
              - USAGE
              - CREATE TABLE
              - CREATE VIEW
              - CREATE STAGE
            table_privileges:
              - SELECT
              - INSERT
              - UPDATE
              - DELETE
              - TRUNCATE
            view_privileges:
              - SELECT

          - name: dm_scm
            privileges:
              - USAGE
              - CREATE TABLE
              - CREATE VIEW
              - CREATE STAGE
            table_privileges:
              - SELECT
              - INSERT
              - UPDATE
              - DELETE
              - TRUNCATE
            view_privileges:
              - SELECT

        feature_schema_privileges:
          - USAGE
          - CREATE TABLE
          - CREATE VIEW
          - CREATE STAGE

  # Data Analyst, Scientist, ML Role
  - name: data_analyst_rw
    comment: create data analyst, scientist, ml role by terraform
    functional_roles:
      - USER_DATA_ANALYST
      - USER_ML_ENGINEER
    grant_account_roles:
      - database: sample
        schemas:
          - name: dl_scm
            privileges:
              - USAGE
            table_privileges:
              - SELECT
            view_privileges:
              - SELECT

          - name: workspace
            privileges:
              - USAGE
              - CREATE TABLE
              - CREATE VIEW
              - CREATE STAGE
            table_privileges:
              - SELECT
              - INSERT
              - UPDATE
              - DELETE
              - TRUNCATE
            view_privileges:
              - SELECT

          - name: dwh_scm
            privileges:
              - USAGE
              - CREATE TABLE
              - CREATE VIEW
              - CREATE STAGE
            table_privileges:
              - SELECT
              - INSERT
              - UPDATE
              - DELETE
              - TRUNCATE
            view_privileges:
              - SELECT

          - name: dm_scm
            privileges:
              - USAGE
              - CREATE TABLE
              - CREATE VIEW
              - CREATE STAGE
            table_privileges:
              - SELECT
              - INSERT
              - UPDATE
              - DELETE
              - TRUNCATE
            view_privileges:
              - SELECT

        feature_schema_privileges:
          - USAGE
          - CREATE TABLE
          - CREATE VIEW
          - CREATE STAGE

  # Read Only Role
  - name: data_reader_only
    comment: create data read only role by terraform
    functional_roles:
      - USER_DATA_READER
    grant_account_roles:
      - database: sample
        schemas:
          - name: workspace
            privileges:
              - USAGE
            table_privileges:
              - SELECT
            view_privileges:
              - SELECT

          - name: dl_scm
            privileges:
              - USAGE
            table_privileges:
              - SELECT
            view_privileges:
              - SELECT

          - name: dwh_scm
            privileges:
              - USAGE
            table_privileges:
              - SELECT
            view_privileges:
              - SELECT

          - name: dm_scm
            privileges:
              - USAGE
            table_privileges:
              - SELECT
            view_privileges:
              - SELECT

        feature_schema_privileges:
          - USAGE
